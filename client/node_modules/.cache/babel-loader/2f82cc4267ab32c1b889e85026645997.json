{"ast":null,"code":"import { GET_ERRORS, SET_CURRENT_USER } from './types';\nimport setAuthToken from '../../utils/setAuthToken';\nimport jwt_decode from 'jwt-decode';\nimport axios from 'axios'; //Register\n\nexport var registerUser = function registerUser(userData, history) {\n  return function (dispatch) {\n    axios.post('api/users/register', userData).then(function (res) {\n      return history.push('/login');\n    }).catch(function (err) {\n      var token = res.data.token; //Save token to local storage\n\n      localStorage.setItem({\n        'jwtToken': token\n      }); //Set Auth header\n\n      setAuthToken(token); //Decode token to get current user data\n\n      var decoded = jwt_decode(token);\n      dispatch(cu);\n    });\n  };\n}; //Login\n\nexport default loginUser = function loginUser(userData) {\n  return function (dispatch) {\n    axios.post('api/users/login', userData).then(function (res) {}).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; //","map":{"version":3,"sources":["E:\\Docs\\mernstack\\Rating App\\client\\src\\redux\\actions\\authActions.js"],"names":["GET_ERRORS","SET_CURRENT_USER","setAuthToken","jwt_decode","axios","registerUser","userData","history","dispatch","post","then","res","push","catch","err","token","data","localStorage","setItem","decoded","cu","loginUser","type","payload","response"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,gBAArB,QAA6C,SAA7C;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAGA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,QAAD,EAAWC,OAAX;AAAA,SAAuB,UAAAC,QAAQ,EAAI;AAE5DJ,IAAAA,KAAK,CAACK,IAAN,CAAW,oBAAX,EAAiCH,QAAjC,EACII,IADJ,CACS,UAAAC,GAAG;AAAA,aAAIJ,OAAO,CAACK,IAAR,CAAa,QAAb,CAAJ;AAAA,KADZ,EAEIC,KAFJ,CAEU,UAAAC,GAAG,EAAI;AAAA,UACHC,KADG,GACOJ,GAAG,CAACK,IADX,CACHD,KADG,EAEX;;AACAE,MAAAA,YAAY,CAACC,OAAb,CAAqB;AAAC,oBAAYH;AAAb,OAArB,EAHW,CAIX;;AACAb,MAAAA,YAAY,CAACa,KAAD,CAAZ,CALW,CAMX;;AACA,UAAMI,OAAO,GAAGhB,UAAU,CAACY,KAAD,CAA1B;AAGAP,MAAAA,QAAQ,CAACY,EAAD,CAAR;AACF,KAbJ;AAeF,GAjB2B;AAAA,CAArB,C,CAmBP;;AACA,eAAeC,SAAS,GAAG,mBAACf,QAAD;AAAA,SAAc,UAAAE,QAAQ,EAAI;AAClDJ,IAAAA,KAAK,CAACK,IAAN,CAAW,iBAAX,EAA8BH,QAA9B,EACII,IADJ,CACS,UAAAC,GAAG,EAAI,CAGZ,CAJJ,EAKIE,KALJ,CAKU,UAAAC,GAAG,EAAI;AACXN,MAAAA,QAAQ,CAAC;AACNc,QAAAA,IAAI,EAAEtB,UADA;AAENuB,QAAAA,OAAO,EAAET,GAAG,CAACU,QAAJ,CAAaR;AAFhB,OAAD,CAAR;AAIF,KAVJ;AAWF,GAZ0B;AAAA,CAA3B,C,CAeA","sourcesContent":["import { GET_ERRORS, SET_CURRENT_USER } from './types';\r\nimport setAuthToken from '../../utils/setAuthToken';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\n\r\nimport axios from 'axios';\r\n\r\n//Register\r\nexport const registerUser = (userData, history) => dispatch => {\r\n\r\n   axios.post('api/users/register', userData)\r\n      .then(res => history.push('/login') )\r\n      .catch(err => {\r\n         const { token } = res.data;\r\n         //Save token to local storage\r\n         localStorage.setItem({'jwtToken': token});\r\n         //Set Auth header\r\n         setAuthToken(token);\r\n         //Decode token to get current user data\r\n         const decoded = jwt_decode(token);\r\n\r\n\r\n         dispatch(cu);\r\n      });\r\n\r\n};\r\n\r\n//Login\r\nexport default loginUser = (userData) => dispatch => {\r\n   axios.post('api/users/login', userData)\r\n      .then(res => {\r\n\r\n\r\n      })\r\n      .catch(err => {\r\n         dispatch({\r\n            type: GET_ERRORS,\r\n            payload: err.response.data\r\n         })\r\n      })\r\n}\r\n\r\n\r\n//"]},"metadata":{},"sourceType":"module"}